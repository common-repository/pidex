<?php //phpcs:ignore

/**
 * Menu class registers the admin navigation menu.
 *
 * @package Pidex\Admin
 */

namespace Pidex\Admin;

if (!class_exists('Menu')) {
    /**
     * Class Menu
     *
     * Menu class handles the admin menu bar.
     *
     * @package Pidex\Admin
     */
    class Menu
    {
        /**
         * Holds the Settings class instance.
         *
         * @var $settings
         */
        public $settings;

        /**
         * Menu constructor.
         *
         * @param \Pidex\Admin\Settings $settings Settings class instance.
         *
         * @return void
         */
        public function __construct(Settings $settings)
        {
            /**
             * Set the active Settings class instance.
             */
            $this->settings = $settings;

            add_action('admin_menu', array($this, 'addAdminMenu'));
        }

        /**
         * Register the admin menu for the plugin.
         *
         * @return void
         */
        public function addAdminMenu()
        {
            $pidexIcon = base64_encode(
                '<svg enable-background="new 0 0 35 35" version="1.0" viewBox="0 0 35 35" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">'
                . '<path d="m10.5 17.2c0 0.2-0.1 0.4-0.3 0.6-0.1 0.1-0.2 0.1-0.4 0-0.1-0.1-0.2-0.2-0.3-0.4s-0.1-0.4-0.1-0.6v-0.2c0-0.2 0-0.5 0.1-0.7 0-0.2 0.1-0.3 0.2-0.4v-0.1c0.2-0.2 0.3-0.1 0.5 0 0.1 0.2 0.2 0.4 0.2 0.6v0.4c0.2 0.3 0.1 0.6 0.1 0.8z" fill="#fff"/>'
                . '<path d="m10.9 18.9c0 0.1 0.1 0.2 0.1 0.3v0.3c0 0.1-0.1 0.2-0.2 0.2h-0.2c-0.1 0-0.1-0.1-0.1-0.2s0-0.2-0.1-0.3c0-0.1 0-0.2 0.1-0.3v-0.1c0.1-0.1 0.1-0.1 0.2-0.1s0.1 0.1 0.2 0.2z" fill="#fff"/>'
                . '<path d="m23.7 19.3c0-0.1 0-0.1-0.1-0.2 0-0.1-0.1-0.1-0.2-0.1s-0.2 0.1-0.2 0.2c-0.1 0.3 0 0.5 0.1 0.7 0 0.1 0.1 0.1 0.2 0 0.1 0 0.1-0.1 0.1-0.1 0-0.1 0.1-0.2 0-0.4 0.1 0 0.1 0 0.1-0.1z" fill="#fff"/>'
                . '<path d="m23 16.4c-0.1-0.2-0.1-0.4-0.3-0.5l-0.1-0.1c-0.1 0-0.2 0-0.3 0.1l-0.1 0.1c-0.1 0.2-0.2 0.4-0.2 0.6 0 0.3-0.1 0.5 0 0.8v0.1c0 0.2 0.1 0.4 0.2 0.6 0 0.1 0.1 0.2 0.2 0.2 0.1 0.1 0.3 0.1 0.4 0s0.2-0.2 0.3-0.4c0.1-0.3 0.1-0.6 0.1-0.9v-0.4c-0.1 0-0.2-0.1-0.2-0.2z" fill="#fff"/>'
                . '<path d="m30.8 23.9c-0.1-0.2-0.2-0.4-0.4-0.5-0.1-0.1-0.2-0.1-0.3-0.2s-0.1-0.1-0.1-0.2v-1.8c0-0.2 0-0.3-0.1-0.5 0-0.1 0-0.1-0.1-0.2 0-0.1 0-0.1-0.1-0.2s-0.2-0.2-0.3-0.1-0.3 0.2-0.4 0.3l-0.2 0.2c-0.4 0.2-0.7 0.4-1.1 0.5-0.2 0.1-0.4 0.1-0.5 0.1s-0.3 0.1-0.4 0.1c-0.1 0.1-0.3 0.1-0.5 0.1-0.1 0-0.2 0-0.3 0.1-0.1 0-0.3 0-0.5 0.1h-0.1c-0.2 0.3-1.6 0.3-1.6 0.3h-0.7s-0.6 0-1 0.1c-1.1 0.1-4 0-4.9 0h-5.8c-0.2 0-0.2-0.1-0.4-0.1h-0.7c-0.3 0-0.6 0-0.9-0.1h-0.1c-0.1 0-0.3 0-0.4-0.1-0.1 0-0.2 0-0.3-0.1-0.2 0-0.3-0.1-0.5-0.1-0.1 0-0.2-0.1-0.4-0.1s-0.4-0.1-0.6-0.1c-0.4-0.1-0.7-0.3-1.1-0.5h-0.4s-0.1 0-0.1-0.1c0 0-0.1 0-0.1-0.1-0.1 0-0.1-0.1-0.2-0.1 0 0-0.1 0-0.1-0.1-0.2-0.1-0.2 0-0.3 0.1 0 0-0.1 0.1-0.1 0.2s0 0.1-0.1 0.2-0.1 0.3-0.1 0.5c0 0.3 0 0.5 0.1 0.8v0.1c0 0.2 0 0.4 0.1 0.6v0.3c0 0.1 0 0.1-0.1 0.1-0.1 0.1-0.2 0.1-0.3 0.2-0.2 0.1-0.4 0.3-0.4 0.5-0.1 0.3-0.1 0.5-0.1 0.8 0 0.1 0 0.2 0.1 0.3 0 0.3 0.2 0.6 0.3 0.8 0.1 0.3 0.3 0.6 0.5 0.9 0.2 0 0.3 0 0.3 0.1 0 0.2 0.1 0.5 0.2 0.7s0.3 0.5 0.4 0.7c0.1 0.1 0.2 0.2 0.2 0.4 1.7 1.1 4.1 2.3 7.1 3 7.7 1.6 14-1.6 15.9-2.8 0 0 0-0.1 0.1-0.1v-0.1c0.1-0.1 0.1-0.3 0.2-0.4 0.2-0.2 0.3-0.4 0.4-0.7 0-0.1 0.1-0.2 0.1-0.3s0.1-0.3 0.1-0.4 0-0.1 0.1-0.2c0.2-0.3 0.4-0.6 0.5-0.9 0.1-0.2 0.2-0.4 0.2-0.6v-0.4c0.4-0.5 0.4-0.7 0.3-1zm-16.2-0.6c0-0.1 0.1-0.2 0.2-0.3s0.3-0.1 0.4-0.1h1.1c0.3 0 0.6 0.1 0.9 0.1 0.1 0 0.2 0.1 0.3 0.1l0.1 0.1c0 0.1 0.1 0.1 0.1 0.1v0.1c0.1 0.2 0 0.3 0 0.5 0 0.1-0.1 0.1-0.1 0.2 0 0-0.1 0-0.1 0.1-0.1 0-0.2 0.1-0.2 0.2h-0.1c-0.1 0.1-0.3 0.2-0.5 0.2h-0.3c-0.4 0-0.7-0.1-1-0.3-0.1-0.1-0.3-0.2-0.4-0.3-0.2-0.1-0.3-0.4-0.4-0.6v-0.1zm5.4 2.9s-0.3 0.3-0.7 0.5v1.4c0-0.1-0.1-0.9-2.9-1.2h-0.1c-0.1 0-1.6-0.4-2.8 0.2-0.1 0-0.2 0.1-0.4 0.1l0.3-1s-1.1-0.8-1.1-1.1c0 0 0.1-0.4 0.4 0.1 0 0 1 1.4 3.7 0.7 0 0 2.4 1.6 3.9-0.4 0 0.1 0.3 0.2-0.3 0.7z" fill="#fff"/>'
                . '<path d="m32.2 24.1c0-0.4 0-0.8-0.1-1.2v-1.7c0-0.2-0.1-0.5 0-0.7v-0.9c0-0.3-0.1-0.6-0.1-0.9-0.1-0.5-0.2-0.9-0.3-1.4-0.1-0.3-0.1-0.6-0.2-0.9-0.1-0.4-0.2-0.8-0.3-1.1 0-0.2-0.1-0.4-0.1-0.6v-0.1c0.1-0.7 0.2-1.5 0.3-2.4v-1.2c0-1.4 0-2.5 0.1-4.4v-0.9c0-0.4-0.2-1.1-0.7-1.4-0.6-0.5-1.3-0.3-1.9-0.2-0.7-0.1-1.1 0-1.9 0.3-0.3 0.1-0.6 0.2-1 0.3-0.6 0.1-1.1 0.1-1.4 0.2-0.5 0-0.9 0-1.4-0.1h-0.1c-0.1 0-0.2-0.1-0.3-0.1l-0.1-0.1c-0.4-0.4-0.8-0.7-1.3-0.9-0.2-0.1-0.5-0.2-0.8-0.3s-0.6-0.2-0.9-0.3c-0.4-0.1-0.8-0.2-1.1-0.2h-2.2c-0.7 0.1-0.8 0.1-1.3 0.2 0 0-0.2 0-0.4 0.1-0.6 0.2-1.1 0.4-1.6 0.7-0.1 0-0.2 0.1-0.3 0.2-0.3 0.2-0.5 0.4-0.7 0.5l-0.2 0.3h-0.1c-0.5 0.1-1 0.1-1.4 0.1-0.3 0-0.8 0-1.4-0.1-0.4-0.1-0.7-0.2-1-0.3-0.8-0.4-1.2-0.5-1.6-0.6-0.6-0.1-1.3-0.2-1.9 0.2-0.4 0.4-0.7 1.1-0.7 1.5v0.9c0 1.9 0 3.1 0.1 4.4v1.2c0.1 0.9 0.2 1.7 0.3 2.4v0.1c0 0.2-0.1 0.4-0.1 0.6-0.1 0.4-0.2 0.7-0.3 1.1-0.1 0.3-0.2 0.6-0.2 0.9-0.1 0.5-0.2 0.9-0.3 1.4 0 0.3-0.1 0.6-0.1 0.9v3.3c0 0.4 0 0.8-0.1 1.2v0.5c0 0.5 0.1 0.9 0.2 1.4 0.1 0.4 0.3 0.7 0.5 1 0.3 0.4 0.7 0.8 1 1.1 0.2 0.2 0.4 0.4 0.7 0.6 0.1 0.1 0.2 0.1 0.4 0.2h0.2s0.1 0 0 0c-0.1-0.1-0.2-0.3-0.2-0.4-0.2-0.2-0.3-0.4-0.4-0.7-0.4-0.3-0.5-0.5-0.5-0.8 0-0.1-0.1-0.2-0.1-0.3-0.2-0.3-0.3-0.6-0.5-0.9-0.1-0.3-0.2-0.5-0.3-0.8 0-0.1-0.1-0.2-0.1-0.3 0-0.3 0-0.5 0.1-0.8 0.1-0.2 0.2-0.4 0.4-0.5 0.1-0.1 0.2-0.1 0.3-0.2 0.1 0 0.1-0.1 0.1-0.1v-0.3c0-0.2-0.1-0.4-0.1-0.6v-0.1c-0.1-0.2-0.1-0.5-0.1-0.8 0-0.2 0-0.3 0.1-0.5 0-0.1 0-0.1 0.1-0.2 0-0.1 0-0.1 0.1-0.2s0.2-0.2 0.3-0.1c0 0 0.1 0 0.1 0.1 0.1 0 0.1 0.1 0.2 0.1 0 0 0.1 0 0.1 0.1 0 0 0.1 0 0.1 0.1h0.2 0.1s0 0 0.1 0c0.3 0.2 0.7 0.4 1.1 0.5 0.2 0.1 0.4 0.1 0.6 0.1 0.1 0 0.3 0.1 0.4 0.1 0.1 0.1 0.3 0.1 0.5 0.1 0.1 0 0.2 0 0.3 0.1 0.1 0 0.3 0 0.4 0.1h0.1c0.3 0.1 0.6 0.1 0.9 0.1h7c0.9 0 3.8 0.1 4.9 0 0.5 0 1-0.1 1-0.1h0.7s1.5 0 1.8-0.1h0.1c0.1 0 0.3 0 0.5-0.1 0.1 0 0.2 0 0.3-0.1 0.1 0 0.3-0.1 0.5-0.1 0.1 0 0.2-0.1 0.4-0.1s0.4-0.1 0.5-0.1c0.4-0.1 0.7-0.3 1.1-0.5 0.1 0 0.2-0.1 0.2-0.2 0.1-0.1 0.3-0.2 0.4-0.3s0.2 0 0.3 0.1c0 0 0.1 0.1 0.1 0.2s0 0.1 0.1 0.2 0.1 0.3 0.1 0.5v0.9c0 0.1 0 0.3-0.1 0.4v0.2c0 0.1 0 0.1 0.1 0.1 0.1 0.1 0.2 0.1 0.3 0.2 0.2 0.1 0.4 0.3 0.4 0.5 0.1 0.3 0.1 0.5 0.1 0.8v0.4c0 0.2-0.1 0.5-0.3 0.7-0.1 0.3-0.3 0.6-0.5 0.9l-0.1 0.1v0.5c0 0.1-0.1 0.2-0.1 0.3-0.1 0.2-0.3 0.5-0.4 0.7-0.1 0.1-0.2 0.2-0.2 0.4h0.2c0.1-0.1 0.2-0.1 0.4-0.2 0.2-0.2 0.5-0.4 0.7-0.6 0.4-0.4 0.7-0.7 1-1.1 0.2-0.3 0.4-0.6 0.5-1 0.2-0.5 0.2-0.9 0.2-1.4-0.5 0.5-0.5 0.3-0.5 0.2zm-5.2-19.3c0.7-0.3 1.3-0.5 1.9-0.6 0.3-0.1 0.9-0.2 1.3 0.2 0.4 0.3 0.5 0.9 0.6 1.8v5.4c0 0.6 0 1.1-0.1 1.6 0 0.2 0 0.4-0.1 0.5-0.2-0.9-0.6-1.8-1.1-2.8-1.2-2.5-2.9-4.2-4.1-5.2 0.5-0.3 1-0.6 1.6-0.9zm-2.6 10.7 0.3 0.3s0.1 0.1 0.1 0.2c0.2 0.2 0.3 0.4 0.3 0.5 0.1 0.1 0.2 0.3 0.2 0.5 0.1 0.2 0.1 0.3 0.1 0.4v0.6c0 0.3-0.1 0.6-0.1 0.9 0 0.2-0.1 0.4-0.2 0.6 0 0.1-0.1 0.2-0.2 0.3l-0.1 0.1c-0.2 0.3-0.4 0.4-0.5 0.6 0 0-0.1 0-0.1 0.1 0 0-0.1 0.1-0.2 0.1s-0.2 0.1-0.4 0.1h-0.8c-0.2 0-0.4-0.1-0.5-0.2l-0.3-0.3c-0.1-0.1-0.2-0.3-0.3-0.5-0.1-0.4-0.2-0.8-0.2-1.1v-1.4c0-0.2 0-0.5 0.1-0.7v-0.1c0.1-0.3 0.1-0.6 0.2-0.8 0-0.1 0.1-0.2 0.3-0.4 0 0 0.4-0.2 0.6-0.2h0.8l0.4 0.2c0.2 0 0.4 0.1 0.5 0.2zm-0.9-3.3h0.1c0.1 0 0.1 0.1 0.1 0.1v0.4c0 0.1 0 0.1-0.1 0.1h-1.2c-0.3 0-0.6 0.1-0.9 0.2-0.2 0.1-0.4 0.1-0.6 0.2-0.1 0.1-0.3 0.2-0.4 0.2l-0.6 0.6c-0.1 0.1-0.3 0.3-0.4 0.5-0.1 0.1-0.2 0.3-0.3 0.4-0.2 0.3-0.4 0.5-0.5 0.8 0 0 0 0.1-0.1 0.1-0.1 0.1-0.1 0.3-0.2 0.4-0.1 0.2-0.2 0.5-0.2 0.8 0 0-0.1 0.3-0.1 0.5v1.4c0 0.2 0 0.4 0.1 0.7v0.3c0 0.1-0.1 0.2-0.2 0.1v-0.1c0-0.1-0.1-0.3-0.1-0.5v-2c0-0.2 0-0.4 0.1-0.6 0-0.2 0.1-0.5 0.2-0.7 0.1-0.3 0.2-0.6 0.4-0.8 0.1-0.2 0.3-0.4 0.4-0.6 0.1-0.1 0.5-0.7 0.6-0.8 0.2-0.3 0.5-0.5 0.7-0.8 0.1-0.1 0.2-0.1 0.3-0.2 0.2-0.1 0.4-0.2 0.5-0.3 0.2-0.1 0.3-0.2 0.5-0.2 0.1 0 0.2-0.1 0.4-0.1s0.3 0 0.5-0.1h1zm-13.1-0.3c0-0.1 0.1-0.1 0.1-0.1 0.1 0 0.2-0.1 0.3-0.1h1.2c0.1 0 0.3 0.1 0.4 0.1s0.7 0.3 0.9 0.5 0.5 0.4 0.7 0.6c0.1 0.1 0.2 0.2 0.3 0.4s0.3 0.4 0.4 0.6c0.1 0.1 0.1 0.2 0.1 0.3 0.1 0.2 0.2 0.4 0.3 0.7 0 0.1 0.1 0.3 0.1 0.4s0.1 0.2 0.1 0.3c0.1 0.2 0.1 0.5 0.1 0.7v0.8c0.1 0.6 0 1.2 0 1.8v0.9c0 0.1 0 0.1-0.1 0.2 0 0-0.1 0.1-0.1 0-0.1 0-0.1 0-0.1-0.1v-2.6s0-0.5-0.1-1.1v-0.2c0-0.1 0-0.2-0.1-0.3 0-0.1-0.1-0.1-0.1-0.2 0-0.2-0.1-0.3-0.1-0.5-0.1-0.2-0.1-0.4-0.2-0.5-0.1-0.3-0.3-0.6-0.6-0.9-0.1-0.1-0.2-0.3-0.3-0.4s-0.2-0.2-0.4-0.3c-0.1-0.1-0.2-0.2-0.4-0.2 0 0-0.3-0.1-0.4-0.2-0.1 0-0.1-0.1-0.2-0.1s-0.2-0.1-0.3-0.1h-1.6c-0.1 0-0.1-0.1-0.1-0.1 0.2-0.1 0.2-0.2 0.2-0.3zm0.9 3.1c0.1 0.1 0.2 0.2 0.4 0.3 0.1 0.2 0.2 0.4 0.2 0.5s0 0.1 0.1 0.2c0 0.1 0.1 0.3 0.1 0.6v0.9c0 0.1-0.1 0.8-0.1 0.9v0.3c-0.1 0.2-0.1 0.4-0.1 0.6l-0.3 0.7c-0.1 0.2-0.3 0.4-0.5 0.5-0.1 0-0.2 0.1-0.3 0.1h-0.3c-0.4 0-0.7-0.1-0.8-0.2-0.3-0.1-0.4-0.3-0.5-0.3-0.2-0.1-0.3-0.2-0.3-0.3-0.1-0.1-0.2-0.3-0.3-0.6 0-0.1-0.1-0.2-0.1-0.4v-1.8c0.1-0.5 0.5-1 0.5-1 0.1-0.2 0.3-0.4 0.5-0.6s0.5-0.3 0.8-0.4c0.3-0.2 0.6-0.2 1 0zm-5.9-4c-0.5 1-0.8 2-1.1 2.8 0-0.2 0-0.4-0.1-0.5 0-0.5-0.1-1-0.1-1.6v-5.4c0.1-0.9 0.2-1.5 0.6-1.8s1-0.2 1.3-0.2c0.7 0.2 1.3 0.4 2 0.7 0.6 0.3 1.1 0.6 1.6 0.8-1.3 1-2.9 2.7-4.2 5.2z" fill="#EA5326"/>'
                . '<path d="m22.7 6.2c-0.5 0.4-1.7 0.2-1.7 0.2-1-0.5-1.7-0.1-1.7-0.1-2.5 0.3-3.8-0.2-3.8-0.2-0.6-0.6-1.4-0.2-1.4-0.2-1.3 0.3-1.8-0.1-1.8-0.1-0.3-0.3-0.5-0.9-0.5-1l0.2-0.3c1 0.5 2.5-0.5 2.5-0.5 2.4 0.9 5.5 0.3 5.5 0.3 1.1 0.6 2.3 0.7 2.3 0.7 0.7 0.2 0.5-0.3 0.5-0.4l0.1 0.1h0.1c0.4 0.9-0.3 1.5-0.3 1.5z" fill="#B24B26"/>'
                . '<path d="m11.5 4.2" fill="#EA5326"/>'
                . '<path d="m16.3 26.9c-0.1 0-1.2-0.3-2.8 0.2 1.3-0.6 2.7-0.2 2.8-0.2z" fill="#211B27"/>'
                . '<path d="m19.3 28.1c0-0.1-0.2-0.9-2.9-1.2 2.7 0.4 2.9 1.2 2.9 1.2z" fill="#211B27"/>'
                . '<path d="m18.5 29.1c-1.8 1-4.3-0.2-4.3-0.2-1.4-0.5-1.1-1.6-1.1-1.6 0.1-0.1 0.2-0.1 0.4-0.2 1.3-0.5 2.7-0.2 2.8-0.2h0.1c2.7 0.4 2.8 1.2 2.9 1.2 0 0.5-0.8 1-0.8 1z" fill="#EA5326"/>'
                . '<path d="m30.8 10.5v1c0 0.6 0 1.1-0.1 1.6 0 0.2 0 0.4-0.1 0.5-0.2-0.9-0.6-1.8-1.1-2.8-1.2-2.5-2.9-4.2-4.1-5.2 0.4-0.3 1-0.6 1.6-0.8 0.7-0.3 1.3-0.5 1.9-0.6 0.3-0.1 0.9-0.2 1.3 0.2 0.4 0.3 0.5 0.9 0.6 1.8v1.3 3z" fill="#fff"/>'
                . '<path d="M9.6,5.8c-1.2,1-2.9,2.7-4.1,5.2c-0.5,1-0.8,2-1.1,2.8c0-0.2,0-0.4-0.1-0.5c0-0.5-0.1-1-0.1-1.6V6.3  c0.1-0.9,0.2-1.5,0.6-1.8s1-0.2,1.3-0.2C6.7,4.5,7.3,4.7,8,5C8.6,5.2,9.1,5.6,9.6,5.8z" fill="#fff"/>'
                . '</svg>'
            );

            $parent_slug = 'pidex';
            $capability = 'manage_options';
            add_menu_page(
                __('Pidex', 'pidex'),
                __('Pidex', 'pidex'),
                $capability,
                $parent_slug,
                array($this->settings, 'loadWelcomePage'),
                'data:image/svg+xml;base64,' . $pidexIcon,
                '55.6'
            );

            add_submenu_page(
                $parent_slug,
                __('Pidex Tracking', 'pidex'),
                __('Pidex Tracking', 'pidex'),
                $capability,
                $parent_slug . '_tracking',
                array($this->settings, 'loadTrackingPage')
            );

            add_submenu_page(
                $parent_slug,
                __('Pidex Settings', 'pidex'),
                __('Pidex Settings', 'pidex'),
                $capability,
                $parent_slug . '_settings',
                array($this->settings, 'loadSettingsPage')
            );
        }
    }
}
